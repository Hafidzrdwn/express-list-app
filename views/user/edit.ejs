<%- include('../templates/header') -%>

<h2 class="mt-4 mb-5">Form Edit Item</h2>

<div class="row align-items-center justify-content-center">
  <div class="col-lg-5 col-md-6 col-12">
    <img class="w-75 rounded img-new-item" src="/images/edit.svg" alt="">
  </div>
  <div class="col-lg-6 col-md-6 col-12 p-4 bg-light border rounded">
    <form action="/list/<%= item.id %>" method="POST">
      <div class="mb-3">
        <label for="name" class="form-label">Nama item</label>
        <input type="text" name="name" class="form-control <%if(messages.nameError) { %> border-danger <% } %>"
          id="name" placeholder="Masukkan nama item.." value="<%= item.name %>" autofocus>
        <%if(messages.nameError) { %>
        <p class="mt-1 text-danger">
          <%= messages.nameError %>
        </p>
        <% } %>
      </div>
      <div class="mb-3">
        <label for="tags" class="form-label">Tags (min 1 maks : 3)</label>
        <select name="tags" class="selectpicker show-tick" data-max-options="3"
          data-style="border bg-white <%= messages.tagsInit %>" data-width="100%" data-live-search="true"
          title="Pilih tags item.." multiple autocomplete="off">
          <% tags.forEach((tag) => { %>
          <option value="<%= tag %>" <% if(item.tags.includes(tag)){ %> selected <% } %>><%= tag %></option>
          <% }) %>
        </select>
        <%if(messages.tagsError) { %>
        <p class="mt-1 text-danger">
          <%= messages.tagsError %>
        </p>
        <% } %>
      </div>
      <div class="mb-3">
        <label for="price" class="form-label">Harga 1 item (Rp)</label>
        <input id="price" name="price" class="form-control <%if(messages.priceError) { %> border-danger <% } %>"
          type="number" min="0" placeholder="masukkan harga item.." value="<%= item.price.value %>">
        <%if(messages.priceError) { %>
        <p class="mt-1 text-danger">
          <%= messages.priceError %>
        </p>
        <% } %>
      </div>
      <div class="mb-4">
        <label for="count" class="form-label">Jumlah item</label>
        <input id="count" name="counts" class="form-control" type="number" min="1"
          placeholder="masukkan jumlah belanjaan" value="<%= item.counts %>">
      </div>
      <div class="row align-items-center justify-content-between">
        <div class="col-lg-5 col-md-5 col-5">
          <a href="/list" class="text-primary">Kembali</a>
        </div>
        <div class="col-lg-5 col-md-5 col-5 text-end">
          <button type="submit" class="btn my-btn-primary">Edit item</button>
        </div>
      </div>
    </form>
  </div>
</div>



<!-- <div class="container">
  <div class="container-header">
    <h1>Edit Item</h1>
    <a href="/index" class="cancel-button">Batal</a>
  </div>
  <div class="item-form-wrapper">
    <p class="form-label">Edit item anda sesuka hati..</p>
    <form action="/update/<%= item.id %>" method="POST">
      <p class="form-label-input">Nama item</p>
      <input name="itemName" type="text" value="<%= item.name %>" placeholder="masukkan nama item">
      <p class="form-label-input">Jumlah item</p>
      <input name="countItems" type="number" min="1" placeholder="masukkan jumlah belanjaan" value="<%= item.counts %>">
      <button type="submit">Perbarui</button>
    </form>
  </div>
</div> -->
<%- include('../templates/footer') -%>